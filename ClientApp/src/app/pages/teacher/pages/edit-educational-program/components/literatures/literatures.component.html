<div class="spinner__wrapper" *ngIf="spinnerService.isSpinnerWork | async">
  <app-spinner [name]="literatureSpinner"></app-spinner>
</div>
<div
  class="literature-layer layer"
  *ngIf="!(spinnerService.isSpinnerWork | async)"
>
  <div class="literature-header header">
    <div class="literature-header-title header-title">
      <span class="title__item">{{ literatureTypeInfo }}</span>
    </div>
    <div class="literature-header-buttons">
      <button mat-raised-button class="mr-15" (click)="enableEdit()">
        Добавить
      </button>
    </div>
  </div>

  <div class="literature-layer-content">
    <span *ngIf="(literatures | async)?.length === 0">Нет данных</span>

    <table
      *ngIf="(literatures | async)?.length !== 0"
      mat-table
      [dataSource]="literatures"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Библиографическое описание:</th>
        <td mat-cell *matCellDef="let element">
          <span>{{ element.description }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="recommended">
        <th mat-header-cell *matHeaderCellDef>Гриф</th>
        <td mat-cell *matCellDef="let element">
          <span>{{ element.recommended }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="setNumber">
        <th mat-header-cell *matHeaderCellDef>Количество экземпляров</th>
        <td mat-cell *matCellDef="let element">
          <span>{{ element.setNumber }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Действия</th>
        <td mat-cell *matCellDef="let element">
          <fa-icon
            [icon]="faPencil"
            class="text-info cursor-pointer mr-3"
            (click)="enableEdit(element)"
          ></fa-icon>
          <fa-icon
            [icon]="faTrash"
            class="text-danger cursor-pointer"
            (click)="openModal(popup, element.id)"
          ></fa-icon>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>

<ng-template #popup let-d="dismiss">
  <div class="modal-body text-center">
    <h4 class="mb-4">
      Are you sure, you want to delete this employee details?
    </h4>
    <button
      class="btn btn-primary btn-sm pl-4 pr-4 mr-2"
      (click)="deleteLiterature(); d()"
    >
      Yes
    </button>
    <button class="btn btn-secondary btn-sm pl-4 pr-4 ml-2" (click)="d()">
      No
    </button>
  </div>
</ng-template>
